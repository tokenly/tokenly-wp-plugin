{"version":3,"file":"admin.js","mappings":"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","sources":["webpack://tokenly-wp-plugin/./resources/js/pages/admin/settings.js","webpack://tokenly-wp-plugin/./resources/scss/admin.scss?bce9","webpack://tokenly-wp-plugin/external window [\"wp\",\"element\"]","webpack://tokenly-wp-plugin/webpack/bootstrap","webpack://tokenly-wp-plugin/webpack/runtime/compat get default export","webpack://tokenly-wp-plugin/webpack/runtime/define property getters","webpack://tokenly-wp-plugin/webpack/runtime/hasOwnProperty shorthand","webpack://tokenly-wp-plugin/webpack/runtime/make namespace object","webpack://tokenly-wp-plugin/./resources/js/admin.js"],"sourcesContent":["const { __ } = wp.i18n;\n\nconst {\n\tButton,\n\tTextControl,\n\tPlaceholder,\n\tSpinner,\n\tPanel,\n\tPanelBody,\n\tPanelRow,\n} = wp.components;\n\nconst {\n\trender,\n\tComponent,\n\tFragment\n} = wp.element;\n\nclass TokenpassSettingsPageComponent extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\t\tthis.updateSettings = this.updateSettings.bind( this );\n\t\tthis.state = {\n\t\t\tisAPILoaded: false,\n\t\t\tisAPISaving: false,\n\t\t\tclientId: null,\n\t\t\tclientSecret: null,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\twp.api.loadPromise.then( () => {\n\t\t\tif ( false === this.state.isAPILoaded ) {\n\t\t\t\tthis.getSettings().then(result => {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tisAPILoaded: true,\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\tgetSettings() {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tconst params = {\n\t\t\t\tmethod: 'GET',\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-type': 'application/json; charset=UTF-8',\n\t\t\t\t\t'X-WP-Nonce': wpApiSettings.nonce,\n\t\t\t\t},\n\t\t\t}\n\t\t\tconst url = '/wp-json/tokenly/v1/settings';\n\t\t\tfetch( url, params )\n\t\t\t\t.then( response => response.json() )\n\t\t\t\t.then( data => {\n\t\t\t\t\tconsole.log(data);\n\t\t\t\t\tthis.setState( {\n\t\t\t\t\t\t...(data?.client_id) && {clientId: data.client_id},\n\t\t\t\t\t\t...(data?.client_secret) && {clientSecret: data.client_secret},\n\t\t\t\t\t} );\n\t\t\t\t\tresolve( data );\n\t\t\t\t} )\n\t\t\t\t.catch( err => reject( err ) );\n\t\t});\n\t}\n\n\tupdateSettings() {\n\t\tthis.setState( { isAPISaving: true } );\n\t\tconst params = {\n\t\t\tmethod: 'PUT',\n\t\t\theaders: {\n\t\t\t\t'Content-type': 'application/json; charset=UTF-8',\n\t\t\t\t'X-WP-Nonce': wpApiSettings.nonce,\n\t\t\t},\n\t\t\tbody: JSON.stringify( {\n\t\t\t\tsettings: {\n\t\t\t\t\t...( this.state.clientId ) && { 'client_id': this.state.clientId },\n\t\t\t\t\t...( this.state.clientSecret ) && { 'client_secret': this.state.clientSecret },\n\t\t\t\t}\n\t\t\t} ),\n\t\t }\n\t\t const url = '/wp-json/tokenly/v1/settings';\n\t\t fetch( url, params )\n\t\t\t.then( response => response.json() )\n\t\t\t.then( data => {\n\t\t\t\tthis.setState( {\n\t\t\t\t\tisAPISaving: false\n\t\t\t\t} ) } )\n\t\t\t.catch( err => console.log( err ) );\n\t}\n\n\trender() {\n\t\tif ( ! this.state.isAPILoaded ) {\n\t\t\treturn (\n\t\t\t\t<Placeholder>\n\t\t\t\t\t<Spinner/>\n\t\t\t\t</Placeholder>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<h2>Tokenpass Settings</h2> \n\t\t\t\t<Panel header=\"How to Setup\">\n\t\t\t\t\t<PanelBody>\n\t\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t\t<ul class='tk_steps'>\n\t\t\t\t\t\t\t\t<li>1. Create App on <a href=\"https://tokenpass.tokenly.com/auth/apps\" target=\"_blank\">Tokenpass Developers</a></li>\n\t\t\t\t\t\t\t\t<li>2. Use below details to create App</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</PanelRow>\n\t\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t\t<div class='tk_app_details'>\n\t\t\t\t\t\t\t\t<h3>Register Client Application</h3>\n\t\t\t\t\t\t\t\t<span> <b>CLIENT NAME: </b> Random Input </span><br/>\n\t\t\t\t\t\t\t\t<span> <b>APP HOMEPAGE URL: </b> <a href={appHomepageUrl} target=\"_blank\">{appHomepageUrl}</a> </span><br/>\n\t\t\t\t\t\t\t\t<span> <b>CLIENT AUTHORIZATION REDIRECT URL: </b> <a href={clientAuthUrl} target=\"_blank\">{clientAuthUrl}</a> </span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</PanelRow>\n\t\t\t\t\t\t<PanelRow className=\"api-input-container\">\n\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\tlabel=\"Client ID\"\n\t\t\t\t\t\t\t\tvalue={ this.state.clientId }\n\t\t\t\t\t\t\t\tonChange={ ( value ) => {\n\t\t\t\t\t\t\t\t\tthis.setState({clientId: value});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</PanelRow>\n\t\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\tlabel=\"Client Secret\"\n\t\t\t\t\t\t\t\tvalue={ this.state.clientSecret }\n\t\t\t\t\t\t\t\tonChange={ ( value ) => {\n\t\t\t\t\t\t\t\t\t\tthis.setState({clientSecret: value});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</PanelRow>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</Panel>\n\t\t\t\t<Panel>\n\t\t\t\t\t<PanelBody>\n\t\t\t\t\t\t<PanelRow className=\"save-button-container\">\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tisPrimary\n\t\t\t\t\t\t\t\tisLarge\n\t\t\t\t\t\t\t\tdisabled={ this.state.isAPISaving }\n\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\tthis.updateSettings();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __( 'Save settings' ) }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t{this.state.isAPISaving === true &&\n\t\t\t\t\t\t\t\t\t<Spinner/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</PanelRow>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</Panel>\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\nexport function init() {\n\tconst postBody = document.querySelector('#tokenpass-settings-page-content');\n\tif ( postBody ) {\n\t\tconst appContainer = document.createElement( 'div' );\n\t\tpostBody.appendChild( appContainer );\n\t\t\n\t\trender(\n\t\t\t<TokenpassSettingsPageComponent/>,\n\t\t\tappContainer\n\t\t);\n\t}\n}\n \n\n","// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"wp\"][\"element\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import '/resources/scss/admin.scss';\nimport {init as initTokenpassSettingsPage} from '/resources/js/pages/admin/settings.js';\n\nclass Admin {\n\tinit() {\n\t\tinitTokenpassSettingsPage();\n\t\tthis.registerRedirects();\n\t}\n\n\tregisterRedirects() {\n\t\tdocument.addEventListener('DOMContentLoaded', () => {\n\t\t\tif ( adminRedirects) {\n\t\t\t\tadminRedirects.forEach((redirect) => {\n\t\t\t\t\tconst element = document.querySelector(`[href='${redirect.from}']`);\n\t\t\t\t\tif (element) {\n\t\t\t\t\t\telement.href = redirect.to;\n\t\t\t\t\t\telement.target = '_blank';\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t})\n\n\t}\n}\n\nconst admin = new Admin();\nadmin.init();"],"names":["__","wp","i18n","Button","TextControl","Placeholder","Spinner","Panel","PanelBody","PanelRow","components","render","Component","Fragment","element","TokenpassSettingsPageComponent","constructor","arguments","updateSettings","bind","state","isAPILoaded","isAPISaving","clientId","clientSecret","componentDidMount","api","loadPromise","then","getSettings","result","setState","Promise","resolve","reject","params","method","headers","wpApiSettings","nonce","url","fetch","response","json","data","console","log","client_id","client_secret","catch","err","body","JSON","stringify","settings","appHomepageUrl","clientAuthUrl","value","init","postBody","document","querySelector","appContainer","createElement","appendChild","initTokenpassSettingsPage","Admin","registerRedirects","addEventListener","adminRedirects","forEach","redirect","from","href","to","target","admin"],"sourceRoot":""}